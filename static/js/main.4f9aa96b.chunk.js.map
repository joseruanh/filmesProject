{"version":3,"sources":["components/Header/index.js","services/api.js","pages/Home/index.js","pages/Filme/index.js","pages/Favoritos/index.js","pages/Erro/index.js","routes.js","App.js","index.js"],"names":["Header","className","to","api","axios","create","baseURL","Home","useState","filmes","setFilmes","useEffect","a","get","response","data","loadFilmes","map","filme","nome","src","foto","alt","id","Filme","useParams","history","useHistory","setFilme","loading","setLoading","length","replace","loadFilme","console","log","clasName","sinopse","onClick","minhaLista","localStorage","getItem","filmesSalvos","JSON","parse","some","filmeSalvo","toast","error","push","setItem","stringify","success","target","href","Favoritos","filmesFav","item","filtroFilmes","filter","remover","Erro","Routes","exact","path","component","App","autoClose","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4f9aa96b.chunk.js","sourcesContent":["import './header.css'\nimport { Link } from 'react-router-dom'\n\nexport default function Header(){\n    return(\n        <header>\n            <Link className=\"logo\" to=\"/\">FilmesProject</Link>\n            <Link className=\"favoritos\" to=\"/favoritos\">Favoritos</Link>\n        </header>\n    )\n}","import axios from 'axios'\n\n//https://sujeitoprogramador.com/r-api/?api=filmes/\n\nconst api = axios.create({\n    baseURL: 'https://sujeitoprogramador.com'\n})\n\nexport default api;\n","import React, { useEffect, useState } from 'react'\nimport api from '../../services/api'\nimport { Link } from 'react-router-dom'\nimport './home.css'\n\nexport default function Home(){\n\n    const [filmes, setFilmes] = useState([])\n\n    useEffect(( )=>{\n        async function loadFilmes(){\n           const response = await api.get('r-api/?api=filmes')\n          // console.log(response.data)\n          setFilmes(response.data)\n        }\n        loadFilmes()\n    },[])\n\n\n    return(\n        <div className=\"container\">\n\n                <div className=\"lista-filmes\">\n\n                    {filmes.map((filme)=>{\n                        return(\n                            <article key={filme.id}>\n                                <strong>{filme.nome}</strong>\n                                <img src={filme.foto} alt={filme.nome} />\n                                <Link to={`/filme/${filme.id}`} >Acessar</Link>\n                                \n                            </article>\n\n                        )\n                    })}\n\n                </div>\n\n        </div>\n\n    )\n}","import { useEffect, useState } from 'react'\nimport './filme-info.css'\nimport { useParams, useHistory } from 'react-router-dom'\nimport api from '../../services/api' \nimport { toast } from 'react-toastify'\n\nexport default function Filme(){\n\n    const { id } = useParams()\n    const history = useHistory()\n    const [filme, setFilme] = useState([])\n    const [loading, setLoading] = useState(true)\n\n    useEffect(()=>{\n\n        async function loadFilme(){\n            const response = await api.get(`r-api/?api=filmes/${id}`)\n\n            if(response.data.length === 0){\n                //tentou acessar com ID inexistente\n                history.replace('/')\n                return;\n            }\n\n\n            setFilme(response.data)\n            setLoading(false)\n        }\n        loadFilme()\n\n        return(()=>{console.log(\"componente desmontado\")})\n\n    }, [history, id])\n\n    function salvaFilme(){\n        \n        const minhaLista = localStorage.getItem('filmes')\n\n        let filmesSalvos = JSON.parse(minhaLista) || []\n\n        //se tiver algum filme duplicado, esse id vai ignorar\n\n        const hasFilme = filmesSalvos.some((filmeSalvo)=>filmeSalvo.id === filme.id)\n\n        if(hasFilme){\n            toast.error('Este filme já está nos favoritos!')\n            return;\n        }\n\n\n        filmesSalvos.push(filme)\n        localStorage.setItem('filmes', JSON.stringify(filmesSalvos))\n        toast.success('Filme adicionado aos favoritos!')\n\n\n\n    }\n\n    if(loading){\n        return(\n                <div clasName=\"filme-info\">\n                    <h2>Carregando...</h2>\n                </div>\n            )\n    }\n\n\n    return(\n\n        <div className=\"filme-info\">\n            <h1>{filme.nome}</h1>\n            <img src={filme.foto} alt={filme.nome} />\n            <h3>Sinopse</h3>\n            {filme.sinopse}\n\n            <div className=\"botoes\">\n                <button onClick={ salvaFilme } >Favoritar</button>\n                <button>\n\n                    <a target=\"blank\" href={`http://youtube.com/results?search_query=${filme.nome} Trailer`}>\n                        Trailer\n                        </a>\n\n                </button>\n            </div>\n\n        </div>\n    )\n}","import { useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport './favoritos.css'\nimport { toast } from 'react-toastify'\n\nexport default function Favoritos(){\n\n    const [filmes, setFilmes] = useState([])\n\n    useEffect(()=>{\n\n        const filmesFav = localStorage.getItem('filmes')\n        setFilmes(JSON.parse(filmesFav) || [] )\n\n\n    }, [])\n\n    function remover(id){\n        let filtroFilmes = filmes.filter((item)=>{\n\n            return(item.id !== id)\n\n        })\n\n        setFilmes(filtroFilmes)\n        localStorage.setItem('filmes', JSON.stringify(filtroFilmes))\n        toast.success(\"Filme removido\")\n    }\n\n\n\n\n\n\n\n    return(\n        <div id=\"meus-filmes\">\n\n            <h1>Favoritos</h1>\n\n            {filmes.length === 0 && <p> não há nenhum favorito D: </p>}\n\n            <ul>\n                {filmes.map((item)=>{\n                    return(\n\n                    <li key={item.id}>\n                        <span>{item.nome}</span>\n\n                        <div>\n                            <Link to={`/filme/${item.id}`}>Detalhes</Link>\n                            <button onClick={ ()=> remover(item.id)}>Excluir</button> \n                        </div>\n                    </li>\n                    \n                    )\n                })}\n            </ul>\n\n\n        </div>\n\n    )\n}","import \"./erro.css\"\n\nexport default function Erro(){\n    <div>\n        <h1>Página Erro!</h1>\n    </div>\n\n}","import { BrowserRouter, Route, Switch } from 'react-router-dom'\nimport Header from './components/Header'\nimport Home from './pages/Home'\nimport Filme from './pages/Filme'\nimport Favoritos from './pages/Favoritos'\nimport Erro from './pages/Erro'\n\nconst Routes = ()=>{\n    return(\n\n        <BrowserRouter>\n            <Header />\n            \n        <Switch>\n\n            <Route exact path=\"/\" component={Home} />\n            <Route exact path=\"/filme/:id\" component={Filme} />\n            <Route exact path=\"/favoritos\" component={Favoritos} />\n            <Route path=\"*\" component={Erro} />\n\n        </Switch>\n\n        </BrowserRouter>\n    )\n\n}\nexport default Routes;","import React from 'react'\nimport Routes from './routes'\nimport './estilo.css'\nimport { ToastContainer} from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'\n\n//https://sujeitoprogramador.com/r-api/?api=filmes/\n\nfunction App(){\n  return(\n    <div className=\"app\">\n      <Routes />\n      <ToastContainer autoClose={3000} />\n    </div>\n  )\n}\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}