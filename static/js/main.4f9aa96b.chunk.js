(this.webpackJsonpfilmaria=this.webpackJsonpfilmaria||[]).push([[0],{35:function(e,t,c){},36:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},68:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),s=c(14),i=c.n(s),a=(c(35),c(8)),o=c(2),j=(c(36),c(1));function l(){return Object(j.jsxs)("header",{children:[Object(j.jsx)(a.b,{className:"logo",to:"/",children:"FilmesProject"}),Object(j.jsx)(a.b,{className:"favoritos",to:"/favoritos",children:"Favoritos"})]})}var u=c(12),f=c.n(u),b=c(15),d=c(9),O=c(30),h=c.n(O).a.create({baseURL:"https://sujeitoprogramador.com"});c(62);function m(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),c=t[0],r=t[1];return Object(n.useEffect)((function(){function e(){return(e=Object(b.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get("r-api/?api=filmes");case 2:t=e.sent,r(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"lista-filmes",children:c.map((function(e){return Object(j.jsxs)("article",{children:[Object(j.jsx)("strong",{children:e.nome}),Object(j.jsx)("img",{src:e.foto,alt:e.nome}),Object(j.jsx)(a.b,{to:"/filme/".concat(e.id),children:"Acessar"})]},e.id)}))})})}c(63);var x=c(10);function p(){var e=Object(o.g)().id,t=Object(o.f)(),c=Object(n.useState)([]),r=Object(d.a)(c,2),s=r[0],i=r[1],a=Object(n.useState)(!0),l=Object(d.a)(a,2),u=l[0],O=l[1];return Object(n.useEffect)((function(){function c(){return(c=Object(b.a)(f.a.mark((function c(){var n;return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,h.get("r-api/?api=filmes/".concat(e));case 2:if(0!==(n=c.sent).data.length){c.next=6;break}return t.replace("/"),c.abrupt("return");case 6:i(n.data),O(!1);case 8:case"end":return c.stop()}}),c)})))).apply(this,arguments)}return function(){c.apply(this,arguments)}(),function(){console.log("componente desmontado")}}),[t,e]),u?Object(j.jsx)("div",{clasName:"filme-info",children:Object(j.jsx)("h2",{children:"Carregando..."})}):Object(j.jsxs)("div",{className:"filme-info",children:[Object(j.jsx)("h1",{children:s.nome}),Object(j.jsx)("img",{src:s.foto,alt:s.nome}),Object(j.jsx)("h3",{children:"Sinopse"}),s.sinopse,Object(j.jsxs)("div",{className:"botoes",children:[Object(j.jsx)("button",{onClick:function(){var e=localStorage.getItem("filmes"),t=JSON.parse(e)||[];t.some((function(e){return e.id===s.id}))?x.b.error("Este filme j\xe1 est\xe1 nos favoritos!"):(t.push(s),localStorage.setItem("filmes",JSON.stringify(t)),x.b.success("Filme adicionado aos favoritos!"))},children:"Favoritar"}),Object(j.jsx)("button",{children:Object(j.jsx)("a",{target:"blank",href:"http://youtube.com/results?search_query=".concat(s.nome," Trailer"),children:"Trailer"})})]})]})}c(64);function v(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),c=t[0],r=t[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("filmes");r(JSON.parse(e)||[])}),[]),Object(j.jsxs)("div",{id:"meus-filmes",children:[Object(j.jsx)("h1",{children:"Favoritos"}),0===c.length&&Object(j.jsx)("p",{children:" n\xe3o h\xe1 nenhum favorito D: "}),Object(j.jsx)("ul",{children:c.map((function(e){return Object(j.jsxs)("li",{children:[Object(j.jsx)("span",{children:e.nome}),Object(j.jsxs)("div",{children:[Object(j.jsx)(a.b,{to:"/filme/".concat(e.id),children:"Detalhes"}),Object(j.jsx)("button",{onClick:function(){return function(e){var t=c.filter((function(t){return t.id!==e}));r(t),localStorage.setItem("filmes",JSON.stringify(t)),x.b.success("Filme removido")}(e.id)},children:"Excluir"})]})]},e.id)}))})]})}c(65);function g(){}var S=function(){return Object(j.jsxs)(a.a,{children:[Object(j.jsx)(l,{}),Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{exact:!0,path:"/",component:m}),Object(j.jsx)(o.a,{exact:!0,path:"/filme/:id",component:p}),Object(j.jsx)(o.a,{exact:!0,path:"/favoritos",component:v}),Object(j.jsx)(o.a,{path:"*",component:g})]})]})};c(66),c(67);var N=function(){return Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)(S,{}),Object(j.jsx)(x.a,{autoClose:3e3})]})};i.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(N,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.4f9aa96b.chunk.js.map